<html lang="pt-br">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Form</title>
    <script src="jquery-3.6.0.min.js"></script>
    <script src="bootstrap-5.1.3-dist/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="bootstrap-5.1.3-dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/pikaday/css/pikaday.css">
  </head>
  <body>
    <form class="formulario container-sm m-5">
      <fieldset class="mb-3">
        <legend>Dados Pessoais</legend>
        <div class="mb-3">
          <label for="nome" class="form-label">Nome:</label>
          <input class="form-control" type="text" data-validate-field="nome" id="nome" name="nome" maxlength="40" required>
        </div>
        <div class="mb-3">
          <label for="email">Email:</label>
          <input class="form-control" type="email" data-validate-field="email" id="email" name="email" maxlength="50" required>
        </div>
        <div class="mb-3">
          <label for="cpf">CPF:</label>
          <input class="form-control" type="text" data-validate-field="cpf" id="cpf" name="cpf" maxlength="14" required>
        </div>
        <div class="mb-3">
          <label for="endereco">Endereço:</label>
          <input class="form-control" type="text" data-validate-field="endereco" id="endereco" name="endereco" maxlength="200" required>
        </div>
        <div class="mb-3">
          <label for="cidade">Cidade:</label>
          <input class="form-control" type="text" data-validate-field="cidade" id="cidade" name="cidade" maxlength="28" required>
        </div>
        <div class="mb-3">
          <label for="estado">Estado:</label>
          <select class="form-select" id="estado" name="estado" data-validate-field="estado" required>
            <option value="">Selecione</option>
          </select>
        </div>
        <div class="mb-3">
          <label for="tipo">Tipo:</label><br>
          <input class="form-check-input" data-validate-field="tipo" type="radio" id="tipo" name="tipo" value="casa" required> Casa
          <input class="form-check-input" data-validate-field="tipo" type="radio" id="tipo" name="tipo" value="apartamento" required> Apartamento
        </div>
      </fieldset>
      <fieldset name="lastjob">
        <legend>Dados do último emprego</legend>
        <div class="mb-3">
          <label for="cargo">Cargo:</label>
          <input class="form-control" id="cargo" name="cargo" maxlength="40" data-validate-field="cargo" required>
        </div>
        <div class="mb-3">
          <label for="resumo">Resumo do currículo:</label>
          <textarea class="form-control" type="text" id="resumo" name="resumo" maxlength="1000" data-validate-field="resumo" required></textarea>
        </div>
        <div class="mb-3">
          <label for="descricao">Descrição do cargo:</label>
          <textarea class="form-control" id="descricao" name="descricao" maxlength="500" required data-validate-field="descricao"></textarea>
        </div>
        <div class="mb-3">
          <label for="dat">Data de início:</label>
          <input class="form-control" type="text" id="datepicker" name="data" maxlength="10" required autocomplete="off" data-validate-field="datepicker">
        </div>
      </fieldset>
      <button class="btn btn-primary" id="submit">Enviar</button>
      <button class="btn btn-info" id="print">Imprimir</button>
      <button class="btn btn-secondary" type="reset" id="reset">Limpar</button>
    </form>
    <script src="moment.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pikaday/pikaday.js"></script>
    <script>
      var picker = new Pikaday({
        field: document.getElementById('datepicker'),
        format: 'DD/MM/YYYY',
      });
      </script>
    <script src="script.js"></script>
    <script src="just-validate.min.js"></script>
    <script>
      new window.JustValidate('.formulario', {
        rules: {
          nome: {
            required: true,
            minLength: 3,
            maxLength: 40,
          },
          email: {
            required: true,
            email: true,
          },
          cpf: {
            required: true,
            minLength: 14,
            maxLength: 14,
          },
          endereco: {
            required: true,
            minLength: 3,
            maxLength: 100,
          },
          cidade: {
            required: true,
            minLength: 3,
            maxLength: 28,
          },
          estado: {
            required: true,
          },
          tipo: {
            required: true,
          },
          cargo: {
            required: true,
            minLength: 3,
            maxLength: 40,
          },
          resumo: {
            required: true,
            minLength: 50,
            maxLength: 1000,
          },
          descricao: {
            required: true,
            minLength: 3,
            maxLength: 500,
          },
          datepicker: {
            required: true,
          },
        },
        submitHandler: function(form) {
        },
        messages: {
          nome: {
            required: 'Campo obrigatório',
            minLength: 'Mínimo de 3 caracteres',
            maxLength: 'Máximo de 40 caracteres',
          },
          email: {
            required: 'Campo obrigatório',
            email: 'Email inválido',
          },
          cpf: {
            required: 'Campo obrigatório',
            minLength: 'Mínimo de 14 caracteres',
            maxLength: 'Máximo de 14 caracteres',
          },
          endereco: {
            required: 'Campo obrigatório',
            minLength: 'Mínimo de 3 caracteres',
            maxLength: 'Máximo de 100 caracteres',
          },
          cidade: {
            required: 'Campo obrigatório',
            minLength: 'Mínimo de 3 caracteres',
            maxLength: 'Máximo de 28 caracteres',
          },
          estado: {
            required: 'Campo obrigatório',
          },
          tipo: {
            required: 'Campo obrigatório',
          },
          cargo: {
            required: 'Campo obrigatório',
            minLength: 'Mínimo de 3 caracteres',
            maxLength: 'Máximo de 40 caracteres',
          },
          resumo: {
            required: 'Campo obrigatório',
            minLength: 'Mínimo de 50 caracteres',
            maxLength: 'Máximo de 1000 caracteres',
          },
          descricao: {
            required: 'Campo obrigatório',
            minLength: 'Mínimo de 3 caracteres',
            maxLength: 'Máximo de 500 caracteres',
          },
          datepicker: {
            required: 'Campo obrigatório',
          },
        },
        focusWrongField: true,
        submitHandler: function (form, values, ajax) {
          ajax({
            url: 'https://just-validate-api.herokuapp.com/submit',
            method: 'POST',
            data: values,
            async: true,
            callback: function(response)  {
              alert(response);
            }
          });
        },
      });
    </script>
  </body>
</html>